<div data-section-id="{{ section.id }}" data-section-type="ajax-cart">
  <div class="ajax-cart-container" data-ajax-cart-container></div>
</div>

{% raw %}
<script type="text/x-handlebars-template" data-ajax-cart-template>
  <div class="ajax-cart">
    <div class="ajax-cart__inner">
      <div class="ajax-cart__body" data-ajax-cart-body>
        <form action="/cart" method="post" novalidate>
          <a href="#" class="ajax-cart__close" data-ajax-cart-close>Close</a>
          {{#if items}}
            {{#if has_unavailable_items}}
              <div class="alert">
                {% endraw %}
                  {{ 'cart.general.unavailable_message' | t }}
                {% raw %}
              </div>
            {{/if}}
            <ul class="ajax-cart__list">
              {{#each items}}
              <li class="ajax-cart__item{{#if unavailable}} ajax-cart__item--unavailable{{/if}}" data-id="{{ variant_id }}" data-qty="{{ quantity }}" data-ajax-item>
                <img src="{{ image }}" class="ajax-cart__item-image">
                <div class="ajax-cart__item-info">
                  <div class="ajax-cart__item-header">
                    <span class="ajax-cart__item-price">{{ price }}</span>
                    <a href="{{ url }}" class="ajax-cart__item-title">{{ product_title }}</a>
                  </div>
                  <ul class="ajax-cart__item-options">
                    {{#unless has_only_default_variant}}
                      {{#if variant_options}}
                        {{#each variant_options}}
                          <li>
                            {{ name }}: {{ value }}
                          </li>
                        {{/each}}
                      {{else}}
                        {{#if variant_title}}
                          <li>{{ variant_title }}</li>
                        {{/if}}
                      {{/if}}
                    {{/unless}}
                    <li><span class="ajax-cart__item-qty">Qty: {{ quantity }}</span></li>
                    <li style="text-decoration: none;">
                      <a href="#" class="ajax-cart__item-remove" data-ajax-cart-item-remove>â†’ Remove Item</a>
                    </li>
                  </ul>
                </div>
              </li>
              {{/each}}
            </ul>
            <div data-ajax-cart-footer>
              <div class="ajax-cart__footer-row">
                <p class="clearfix">Subtotal <span style="float: right">{{ total_price }}</span></p>  
              </div>
              <div class="ajax-cart__footer-row u-ta-center">
                <button type="submit" name="checkout" class="btn btn-block" {{#if has_unavailable_items }}disabled="true"{{/if}}>{% endraw %}{{ 'cart.general.checkout' | t }}{% raw %}</button>
                <br />
                <a href="/cart" class="secondary-link">{% endraw %}{{ 'cart.general.view_cart_and_check_out' | t }}{% raw %}</a>
              </div>
              {% endraw %}
              {% if section.settings.footer_text != blank %}
                <div class="ajax-cart__footer-row u-ta-center">
                  {{ section.settings.footer_text }}
                </div>
              {% endif %}
              {% raw %}
            </div>            
          {{else}}
            <div class="ajax-cart__empty-message">
              {% endraw %}
                {{ 'cart.general.empty' | t }}
              {% raw %}
          {{/if}}
          </div>
        </form>
      </div>
    </div>
  </div>
</script>
{% endraw %}


{% schema %}
  {
    "name": "Ajax Cart",
    "settings": [
    ]
  }
{% endschema %}
