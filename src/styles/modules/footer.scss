// -------------------------
// Footer
// -------------------------

.footer {
  margin: 40px 0;
  padding: 0 $grid-gutter-width/2;
  text-align: center;

  @media (min-width: $screen-xs-min) {
    position: fixed;
    z-index: $z-index-footer;
    bottom: $grid-gutter-width/2;
    left: $grid-gutter-width/2;
    margin: 0;
    padding: 0;
    max-width: 400px;
    text-align: left;
  }

  // Match settings with title.scss
  .js & {
    opacity: 0;
  }

  body.is-loaded & {
    opacity: 1;
    transition: opacity 2500ms cubic-bezier(0.33, 0.01, 0.49, 1.02);
  } 

  $t-d-start: 300ms;
  $t-d-end: 500ms;

  .form-contents {
    position: relative;

    &.go-away {
      opacity: 0;
      pointer-events: none;
      transition: opacity $t-d-end ease-out;
    }
  }

  .form-inputs {
    width: 100%;
    transition: opacity $t-d-end ease-out;
    transition-delay: 300ms;

    @media (min-width: $screen-xs-min) {
      width: $menu-clearance-max;
    }
  }

  .form-message {
    position: absolute;
    top: 8px;
    left: 0;
    bottom: 0;
    width: 100%;
    @include display-flex;
    @include align-items(flex-end);

    opacity: 0;
    pointer-events: none;
    font-size: $font-size-xsmall;
    transition: opacity $t-d-start ease-out;
    transition-delay: 0ms;

    @media (min-width: $screen-xs-min) {
      width: 300px;
    }
  }

  .form-contents.show-message {
    .form-inputs {
      opacity: 0;
      pointer-events: none;
      transition-duration: $t-d-start;
      transition-delay: 0ms;
      transition-timing-function: ease-in;
    }

    .form-message {
      opacity: 1;
      pointer-events: auto;
      transition-duration: $t-d-end;
      transition-delay: $t-d-start;
      transition-timing-function: ease-out;
    }
  }
}


.form-helper-text,
.footer-menu {
  transition: opacity 300ms ease-out;

  @media (min-width: $screen-xs-min) {
    font-size: $font-size-xsmall;
  }
}

.form-helper-text {
  pointer-events: none;
  margin-bottom: 4px;
  opacity: 0;

  .form-active & {
    opacity: 1;
  }
}

.footer-menu {
  margin-left: -1px;
  margin-right: -1px;

  a {
    margin: 0 1px;
  }

  form + & {
    margin-top: 20px;
  }
  
  @media (min-width: $screen-xs-min) {
    form + & {
      margin-top: 12px;
    }
  }

  .form-active & {
    opacity: 0.15;

    // If they manage to hover on this, they should be able to see the links
    &:hover {
      opacity: 1;
    }
  }
}

// Product Template - don't show footer on small screens
@media (max-width: $screen-xs-max) {
  .template-product .footer {
    display: none;
  }  
}
